# Entregas de Ribot Santiago

1) `npm install`: Install all dependencies needed to run the project
2) `npm start`: This will start node app.js
3) for the requests Postman is being used
4) There are two users created:
	- user@user.com: user with role User. Password: 1234
	- admin@admin.com: user with role Admin. Password: 1234

## Routes:

- GET http://localhost:8080/api/products : obtains all products in local storage. If there are no products, returns []
- GET http://localhost:8080/api/products/:pid : obtain the product of the pid given. If it doesn't exists, returns an error
- POST http://localhost:8080/api/products : create a new product. Be aware: The codes have to be unique and the information complete. The object should be like this:

        {  
        "title": "Atun",  
        "description": "Atun enlatado en aceite",  
        "category": "Enlatados",  
        "price": 2000,  
        "thumbnail": "https://Atun",  
        "code": "ABC002",  
        "stock": 3  
        }

- PUT http://localhost:8080/api/products/:pid : change any propierty of the pid product. You have to sent a complete object, with an unique code. for example:

        {  
        "title": "Atun",  
        "description": "Atun enlatado en aceite",  
        "category": "Almacen",  
        "price": 3500,  
        "thumbnail": "https://Atun",  
        "code": "ABC023",  
        "stock": 10  
        }

- DELETE http://localhost:8080/api/products/:pid : deletes the product of the pid given
- POST http://localhost:8080/api/carts : creates a new empty cart with an autogenerated id
- GET http://localhost:8080/api/carts/:cid : obtain the cart of the cid given. If it doesn't exists, returns an error
- POST http://localhost:8080/api/carts/:cid/product/:pid : charges on the cid cart given the pid product, only if the product exists on the product list and if there is stock.
- Connect to http://localhost:8080 from browser to display all products
- Connect to http://localhost:8080/realtimeproducts to display all products in real time. If you post a new product, it will appear
- For Mocking, http://localhost:8080/mockingproducts/

## Tecnologies:

- JavaScript
- Express
- Express-handlebars
- Socket.io
- File storage
- Mongoose
- Sessions
- Login con passport
- Login con passport-github2
- Refactorizado de la app
- Trabajo por capas
- Variables de entorno con dotenv
- Hasheo de Pass con BCrypt
- Cookies
- Json Web Token
- Mailing
- Moking
- Swagger